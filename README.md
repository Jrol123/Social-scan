# Social-scan

Анализ и кластеризация сообщений об организациях с различных площадок.

## Статус

На данный момент полностью готовы парсинг и разметка.

Кластеризация почти готова.

## Описание

TODO

## Процесс работы

Везде используется подход через `Master_*`, где работа подмодуля делится на несколько отдельных частей, которые можно одновременно использовать в мастер-обработчике.

Каждая из частей предусматривает создание обработчика и конфига к нему (к примеру, экземпляр парсера требует экземпляр его конфигурации). Такой же подход и с мастер-обработчиками.

### Парсинг

#### Процесс парсинга

Парсить можно как по-одному парсеру за раз, так и воспользовавшись мастер-парсером, который будет работать со всеми парсерами сразу.

#### Сайты с рейтингом

В этот список попадают сайты, где есть чёткая система рейтинга, числовая метрика, отвечающая за то, понравилась ли пользователю организация, или нет.

На основе рейтинга будет определено, к какому классу будет определён отзыв.

##### Список ресурсов

1. [`google maps`](src/get_info/parsers/google_maps)
2. [`yandex maps`](src/get_info/parsers/yandex_maps)
3. [`otzovik`](src/get_info/parsers/otzovik)

#### Сайты без рейтинга

Сайты, где такой метрики нет.

Класс будет определяться с помощью NLP модели.

##### Список ресурсов

1. [`telegram`](src/get_info/parsers/telegram)
2. [`vk`](src/get_info/parsers/vk)

#### Примеры работы

1. [`Одиночный parsing`](examples/01_single-parser.py)
    - Посвящён парсингу с одного парсера.
2. [`Полный parsing`](examples/01_parsing.py)
    - Посвящён парсингу сразу с нескольких источников одновременно

### Разметка

Разметка может быть как двухклассовой (0 - не-негатив, 1 - негатив)  так и трёхклассовой (0 - нейтраль, 1 - позитив, 2 - негатив).

#### Рейтинг

Ставятся рамки положительного и отрицательного класса.

Если рамки совпадают и одно из условий нестрогое - двфхклассовая разметка.

Иначе - трёхклассовая.

#### Семантический анализ

Всё зависит от выхода nlp-модели (возможна обработка только 3 и 5 классов) и типа обработки (двух или трёх классовой)

### Кластеризация

В процессе выполнения

### Отчёт

TODO

## Используемые библиотеки и модели

### Парсинг

`Selenium`

`SQLAlchemy` — потенциально будет сохранение результатов в бд

### Разметка

`pandas`

`numpy`

[Mbart](https://huggingface.co/sismetanin/mbart_ru_sum_gazeta-ru-sentiment-rusentiment) — лучший компромис между количеством токенов и качеством.

- (Имеет длину в 1024 токена, что покрывает примерно 87% отзывов с сайтов без рейтинга)

### Кластеризация

В процессе выполнения

## Credits

[`yandex_reviews_parser`](https://github.com/useless-apple/yandex_reviews-parser) — `yandex parser` был сделан на основе этого репозитория
